<!DOCTYPE html>
<html>
<head>
  <title>Motion Graph Visualization</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      margin: 0;
      padding: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      background-color: #f0f0f0;
      height: 100vh;
    }
    #motionGraphContainer {
      max-width: 100%;
      border: 1px solid #ddd;
    }
  </style>
</head>
<body>
  <!-- SVG가 로드될 영역 -->
  <div id="motionGraphContainer">Loading...</div>
  <script>
    async function updateMotionGraph() {
      try {
        // ts 쿼리파라미터를 붙여 캐시를 우회
        const url = 'http://172.30.1.59:5000/motion_graph?ts=' + Date.now();
        const response = await fetch(url);
        if (response.ok) {
          const svgContent = await response.text();
          document.getElementById('motionGraphContainer').innerHTML = svgContent;
        } else {
          console.error('Failed to fetch motion graph. Status:', response.status);
        }
      } catch (error) {
        console.error('Error fetching motion graph:', error);
      }
    }

    // 최초 한 번 호출 후 1초마다 업데이트 (원하는 주기로 조절 가능)
    updateMotionGraph();
    setInterval(updateMotionGraph, 1000);
  </script>
</body>
</html>
